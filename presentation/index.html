<!doctype html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

	<title>JS classes</title>

	<link rel="stylesheet" href="dist/reset.css">
	<link rel="stylesheet" href="dist/reveal.css">
	<link rel="stylesheet" href="dist/theme/blood.css" id="theme">

	<!-- Theme used for syntax highlighted code -->
	<link rel="stylesheet" href="plugin/highlight/monokai.css" id="highlight-theme">
</head>

<body>
	<div class="reveal">
		<div class="slides">
			<section>
				<h2>The problem of JS classes</h2>
			</section>
			<section>
				<section>
					<h2>At first, what is class in general?</h2>
				</section>

				<section>
					<p>Class describes a certain form of code organization -- a way of
						modeling real world problem domains in code.</p>
				</section>

				<section>
					<p>The traditional metaphor for “class” comes from building construction.</p>
				</section>

				<section>
					<p>An architect plans out all the characteristics of a building: how wide, how tall, how many
						windows and so on. The architectural blueprints are only plans for a building. They are not an
						actual building where we can walk in and sit down. We need a builder for that task. A builder
						will take those plans and follow them, exactly, as he builds the building. He is copying the
						intended characteristics from the plans to the physical building. Once complete, the building is
						a physical instantiation of the blueprint plans.</p>
				</section>

				<section>
					<p>The same thing goes for classes. Class is a blueprint, instance of a class – is a physical
						building.</p>
				</section>
			</section>

			<section>
				<section>
					<h1>Classes in JS</h1>
				</section>

				<section>
					<p>In JS a class is a kind of function.</p>
				</section>

				<section>
					<h2>The basic syntaxis of class is</h2>
					<img src="assets/class-synt.png" alt="">
				</section>

				<section>
					<p>
						When we initialize a class using operator "new" this happens:
					</p>
					<ol>
						<li>A new object is created.</li>
						<li>The constructor runs with the given arguments.</li>
						<li>Class stores class methods, in its prototype.</li>
					</ol>
				</section>
			</section>

			<section>
				<section>
					<h2>Inheritance</h2>
				</section>

				<section>
					<p>You can define another class that inherits from the first class. For example, when a parent has a
						biological child, the genetic characteristics of the parent are copied into the child.</p>
				</section>

				<section>
					<h2>Traditional classes mean copies</h2>
				</section>

				<section>
					<p>Once the child exists, he is separate from the parent. The child was heavily influenced by his
						parent, but is unique. <b>If a parent ends up with red hair, that doesn’t
							mean
							the child’s hair automatically becomes red.</b> And vice versa.</p>
				</section>

				<section>
					<h2>JS is another thing tho</h2>
				</section>

				<section>
					<h2>In JS we have "extends" keyword to create a child</h2>
				</section>

				<section>
					<h2>Here's an example</h2>
				</section>

				<section>
					<img src="assets/animal.png" alt=""> <img src="assets/rabbit.png" alt="">
				</section>

				<section>
					<p>Object of Rabbit class have access to Rabbit methods, such as rabbit.hide(), and also to
						Animal methods, such as rabbit.run().
					</p>
				</section>

				<section>
					<p>Internally, extends keyword works using prototype mechanics. It sets
						Rabbit.prototype.[[Prototype]] to Animal.prototype. So, if a method is not found in
						Rabbit.prototype, JavaScript takes it from Animal.prototype.</p>
				</section>

				<section>
					<img src="assets/extends.png" alt="">
				</section>

				<section>
					<h2>And here's a problem</h2>
					<p>Prototype mechanism is dynamic. <b>But, as we mentioned earlier, classes mechanism must be
							static.</b>
					</p>
				</section>

				<section>
					<h2>In JS if we change a parent's methods, child's methods will be changed</h2>
				</section>

				<section>
					<h2>And this is a bad thing</h2>
					<p>But first, let's cover some good stuff.</p>
				</section>
			</section>

			<section>
				<section>
					<h2>Is it a syntactic sugar?</h2>
					<img src="assets/cat.png" alt="cat">
				</section>

				<section>
					<p>Maybe.</p>
				</section>

				<section>
					<h2>It has some features:</h2>
					<ol>
						<li>Classes cannot be called without new.</li>
						<li>Classes use strict.</li>
						<li>Class methods are non-enumerable.</li>
					</ol>
				</section>

				<section>
					<ol start="4">
						<li>There’s no more references to .prototype making the code difficult to read.</li>
						<li>We can use “extends” instead of needing Object.create(..) or having to set with .__proto__
							or Object.setPrototypeOf(..).</li>
					</ol>

				</section>

				<section>
					<ol start="6">
						<li>Extends lets you extend even built-in object types, like Array, in a very natural
							way. Doing so without classes has been a frustrating task.</li>
						<li><b>It looks prettier.</b></li>
					</ol>
				</section>
			</section>

			<section>
				<section>
					<h2>But is this sugar really sweet?</h2>
				</section>

				<section>
					<p>Actually class does good job of pretending to fix the problems with the inheritance in JS.
						It does the opposite: it hides many of the problems.</p>
				</section>

				<section>
					<p>Class looks like a difficult add-on to a relatively simple prototype mechanic of JS.</p>
				</section>

				<section>
					<p>
						In traditional class-oriented languages, you never adjust the definition of a class later, so
						the class design pattern doesn’t suggest such capabilities.
					</p>
					<p>But one of the most powerful parts of JS is that it is dynamic, and the definition of any object
						is a fluid and mutable thing. </p>
				</section>

				<section>
					<p>Class seems to imply you shouldn’t use all these dynamic things, you should use static-looking
						syntax, which is not even static.</p>
				</section>

				<section>
					<p>So the ES6 class makes it harder to reliably use [[Prototype]], and hides the most
						important nature
						of the JS object mechanism — the live delegation links between objects.</p>
				</section>

				<section>
					<p>The ES6 class is masquerading as a nice solution to syntactic troubles, but it’s actually making
						things worse for JS and for clear understanding.</p>
				</section>

				<section>
					<h2>Is it a truly good practice?</h2>
				</section>

				<section>
					<h2>Think for yourself.</h2>
				</section>
			</section>

			<section>
				<h2>Thanks for your attention</h2>
			</section>
		</div>
	</div>

	<script src="dist/reveal.js"></script>
	<script src="plugin/notes/notes.js"></script>
	<script src="plugin/markdown/markdown.js"></script>
	<script src="plugin/highlight/highlight.js"></script>
	<script>
		// More info about initialization & config:
		// - https://revealjs.com/initialization/
		// - https://revealjs.com/config/
		Reveal.initialize({
			hash: true,

			// Learn about plugins: https://revealjs.com/plugins/
			plugins: [RevealMarkdown, RevealHighlight, RevealNotes]
		});
	</script>
</body>

</html>